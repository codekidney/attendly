(this.webpackJsonpattendly=this.webpackJsonpattendly||[]).push([[0],{145:function(e,t,a){e.exports=a(235)},233:function(e,t,a){},235:function(e,t,a){"use strict";a.r(t);var n=a(0),l=a.n(n),r=a(6),c=a.n(r),i=a(53),o=a(38),m=a(240),s=a(241),d=a(139),u=a(17),E=a(238),p=a(131),f=function(e){var t=Object(n.useState)(!1),a=Object(u.a)(t,2),r=a[0],c=a[1];return e.items?l.a.createElement(E.a,{striped:!0,bordered:!0,hover:!0,className:"MeetingList"},l.a.createElement("thead",null,l.a.createElement("tr",null,l.a.createElement("th",null,"#"),l.a.createElement("th",{onClick:function(){return e.handleSortBy("title-asc")},style:{width:"60%"}},"Tytu\u0142"),l.a.createElement("th",{onClick:function(){return e.handleSortBy("startDate-asc")},style:{width:"15%"}},"Start"),l.a.createElement("th",{onClick:function(){return e.handleSortBy("endDate-asc")},style:{width:"15%"}},"Koniec"),l.a.createElement("th",null,"Akcja"))),l.a.createElement("tbody",null,e.items.map((function(t,a){return l.a.createElement("tr",{key:t.id},l.a.createElement("td",null,a+1),l.a.createElement("td",null,r===t.id?l.a.createElement("div",null,l.a.createElement("div",{className:"d-flex justify-content-between"},t.title,l.a.createElement(p.a,{variant:"primary",size:"sm ml-2",value:t.id,onClick:function(){return c(!1)}},"Schowaj opis")),l.a.createElement("hr",null),t.description):l.a.createElement("div",{className:"d-flex justify-content-between"},t.title,l.a.createElement(p.a,{variant:"primary",size:"sm ml-2",value:t.id,onClick:function(){return c(t.id)}},"Poka\u017c Opis"))),l.a.createElement("td",null,t.startDate.date,", ",t.startDate.time),l.a.createElement("td",null,t.endDate.date,", ",t.endDate.time),l.a.createElement("td",null,l.a.createElement(p.a,{variant:"primary",size:"sm",value:t.id,onClick:e.handleDeleteMeeting},"Usu\u0144")))})))):l.a.createElement("div",null)};f.defaultProps={items:[]};var g=a(242),b=a(239),y=a(245),v=a(108),h=(a(196),a(104)),D=a.n(h),k=a(136),S=(a(203),a(105)),j=a.n(S),O=a(137),N=a.n(O),w=(a(212),a(143)),C=a(54),z=function(){var e=Object(n.useState)(!1),t=Object(u.a)(e,2),a=t[0],r=t[1],c=Object(n.useState)(!1),i=Object(u.a)(c,2),m=i[0],s=i[1],d=Object(n.useState)(!1),E=Object(u.a)(d,2),f=E[0],h=E[1],S=Object(n.useState)(!1),O=Object(u.a)(S,2),z=O[0],M=O[1],L=Object(n.useState)(!1),T=Object(u.a)(L,2),I=T[0],H=T[1],P=function(e,t,a){var n=Object(w.a)(e,t,new Date,{locale:a});if(k.DateUtils.isDate(n))return n},x=function(e,t,a){return Object(C.a)(e,t,a)};return a?l.a.createElement(o.a,{to:"/"}):l.a.createElement(g.a,{onSubmit:function(e){var t=e.currentTarget;if(m&&z){var a=m.setHours(z.getHours(),z.getMinutes(),z.getMilliseconds());s(a)}f&&I&&h(f.setHours(I.getHours(),I.getMinutes(),I.getMilliseconds())),(!1===t.checkValidity()||m||f||m<f)&&(e.preventDefault(),e.stopPropagation());var n={id:N.a.generate(),title:t.elements.title.value,description:t.elements.description.value,startDate:{date:Object(C.a)(m,"yyyy-MM-dd","pl"),time:Object(C.a)(m,"HH:mm","pl")},endDate:{date:Object(C.a)(f,"yyyy-MM-dd","pl"),time:Object(C.a)(m,"HH:mm","pl")}};if(null===localStorage.getItem("meetings")){localStorage.setItem("meetings",JSON.stringify([]))}var l=localStorage.getItem("meetings"),c=JSON.parse(l);c.push(n),localStorage.setItem("meetings",JSON.stringify(c)),r(!0)},autoComplete:"off"},l.a.createElement(g.a.Group,{controlId:"title"},l.a.createElement(g.a.Label,null,"Title"),l.a.createElement(g.a.Control,{required:!0,minLength:"5",maxLength:"120",type:"text",placeholder:"Title"})),l.a.createElement(g.a.Group,{controlId:"description"},l.a.createElement(g.a.Label,null,"Description"),l.a.createElement(g.a.Control,{required:!0,minLength:"10",as:"textarea",rows:"3",placeholder:"Description"})),l.a.createElement(g.a.Group,null,l.a.createElement(g.a.Label,null,"Data rozpocz\u0119cia"),l.a.createElement(b.a,null,l.a.createElement(D.a,{formatDate:x,format:"yyyy-MM-dd",placeholder:"Wybierz dat\u0119",onDayChange:function(e,t){var a=t.selected;t.disabled||s(!a&&e)},parseDate:P,dayPickerProps:{locale:"pl",localeUtils:j.a}}),l.a.createElement(v.a,{allowEmpty:!1,showSecond:!1,onChange:function(e){return M(new Date(e))},className:"ml-sm-2 mt-2 mt-sm-0",placeholder:"Wybierz godzin\u0119"}),m&&z?null:l.a.createElement(y.a,{variant:"warning",className:"ml-md-2 mt-2 mt-md-0 p-2"},"Prosz\u0119 poda\u0107 dat\u0119 i godzin\u0119"))),l.a.createElement(g.a.Group,null,l.a.createElement(g.a.Label,null,"Data zako\u0144czenia"),l.a.createElement(b.a,null,l.a.createElement(D.a,{formatDate:x,format:"yyyy-MM-dd",placeholder:"Wybierz dat\u0119",onDayChange:function(e,t,a){var n=t.selected;t.disabled||h(!n&&e)},parseDate:P,dayPickerProps:{locale:"pl",localeUtils:j.a}}),l.a.createElement(v.a,{allowEmpty:!1,showSecond:!1,onChange:function(e){return H(new Date(e))},className:"ml-sm-2 mt-2 mt-sm-0",placeholder:"Wybierz godzin\u0119"}),f&&I?null:l.a.createElement(y.a,{variant:"warning",className:"ml-md-2 mt-2 mt-md-0 p-2"},"Prosz\u0119 poda\u0107 dat\u0119 i godzin\u0119"))),m>=f?l.a.createElement(y.a,{variant:"warning",className:"p-2"},"Data zako\u0144czenia jest przed dat\u0105 rozpocz\u0119cia"):null,l.a.createElement(p.a,{variant:"primary",type:"submit"},"Dodaj"))},M=function(e){return l.a.createElement("div",{className:"d-inline-block ml-2"},l.a.createElement("span",null,"Filtruj po dacie:"),l.a.createElement(g.a,{onChange:e.handleFilterDates,onSubmit:e.handleFilterDates,className:"d-inline-block ml-2"},l.a.createElement(g.a.Group,{className:"d-inline-block ml-2 mb-0 align-bottom"},l.a.createElement(b.a,null,l.a.createElement(b.a.Prepend,null,l.a.createElement(b.a.Text,{id:"inputGroupPrepend"},"Od")),l.a.createElement(g.a.Control,{type:"date",name:"startDate.date",defaultValue:"2019-11-25"}))),l.a.createElement(g.a.Group,{className:"d-inline-block ml-2 mb-0 align-bottom"},l.a.createElement(b.a,null,l.a.createElement(b.a.Prepend,null,l.a.createElement(b.a.Text,{id:"inputGroupPrepend"},"Do")),l.a.createElement(g.a.Control,{type:"date",name:"endDate.date"}))),l.a.createElement(p.a,{variant:"primary",className:"ml-2",onClick:e.handleDisableFilter},"Wy\u0142\u0105cz")))},L=a(28),T=function(e){var t=Object(n.useState)("Wybierz"),a=Object(u.a)(t,2),r=a[0],c=a[1];return l.a.createElement("div",{className:"d-inline-block"},l.a.createElement("span",null,"Sortuj po:"),l.a.createElement(L.a,{className:"d-inline-block ml-2",onSelect:e.handleSortBy},l.a.createElement(L.a.Toggle,null,r),l.a.createElement(L.a.Menu,null,l.a.createElement(L.a.Item,{onClick:function(e){return c(e.target.innerHTML)},eventKey:"title-asc"},"Tytu\u0142 A-Z"),l.a.createElement(L.a.Item,{onClick:function(e){return c(e.target.innerHTML)},eventKey:"title-desc"},"Tytu\u0142 Z-A"),l.a.createElement(L.a.Item,{onClick:function(e){return c(e.target.innerHTML)},eventKey:"startDate-asc"},"Data Startu 0-9"),l.a.createElement(L.a.Item,{onClick:function(e){return c(e.target.innerHTML)},eventKey:"startDate-desc"},"Data Startu 9-0"),l.a.createElement(L.a.Item,{onClick:function(e){return c(e.target.innerHTML)},eventKey:"endDate-asc"},"Data Ko\u0144ca 0-9"),l.a.createElement(L.a.Item,{onClick:function(e){return c(e.target.innerHTML)},eventKey:"endDate-desc"},"Data Ko\u0144ca 9-0"))))},I=function(){return l.a.createElement("div",{className:"Loading"},"Loading...")},H=a(244),P=a(243),x=(a(233),a(234),a(144));Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(l.a.createElement(i.a,null,l.a.createElement((function(e){return l.a.createElement("header",null,l.a.createElement(m.a,null,l.a.createElement(H.a,{expand:"lg",variant:"light",bg:"light"},l.a.createElement(H.a.Brand,{href:"#"},e.title),l.a.createElement(H.a.Toggle,{"aria-controls":"basic-navbar-nav"}),l.a.createElement(H.a.Collapse,{id:"basic-navbar-nav",className:"justify-content-end"},l.a.createElement(P.a,null,l.a.createElement(i.b,{className:"btn",to:"".concat("/attendly","/")},"Lista spotka\u0144"),l.a.createElement(i.b,{className:"btn btn-primary",to:"".concat("/attendly","/meeting/add")},"Dodaj spotkanie"))))))}),{title:"Planowanie spotka\u0144"}),l.a.createElement(m.a,{className:"Content"},l.a.createElement(s.a,null,l.a.createElement(d.a,null,l.a.createElement(o.d,null,l.a.createElement(o.b,{path:"".concat("/attendly","/meeting/add"),component:function(){return l.a.createElement("div",null,l.a.createElement("h5",{className:"p-3 text-center"},"Dodaj spotkanie:"),l.a.createElement(z,null))}}),l.a.createElement(o.b,{path:"".concat("/attendly","/"),component:function(){var e=Object(n.useState)(!1),t=Object(u.a)(e,2),a=t[0],r=t[1],c=Object(n.useState)([]),i=Object(u.a)(c,2),o=i[0],m=i[1],s=function(){if(null===localStorage.getItem("meetings")){var e=[];fetch("https://rkserv.hekko.pl/attendly/get/").then((function(e){return e.json()})).then((function(t){return t.forEach((function(t){var a={id:t.id,title:t.title,description:t.description,startDate:{date:t.startDate.date,time:t.startDate.time},endDate:{date:t.endDate.date,time:t.endDate.time}};e.push(a)})),localStorage.setItem("meetings",JSON.stringify(e)),m(e),r(!0),e}))}else{var t=localStorage.getItem("meetings");m(JSON.parse(t)),r(!0)}},d=function(e,t){if(!t)return e;for(var a=t.split("."),n=0,l=a.length-1;n<l;n++){var r=e[a[n]];if(void 0===r)break;e=r}return e[a[n]]},E=function(e,t){return Object(x.a)(e).sort((function(e,a){var n=d(e,t),l=d(a,t);return n>l?1:n<l?-1:0}))},p=function(e){var t=[];switch(e){case"title-asc":t=E(o,"title");break;case"title-desc":t=E(o,"title").reverse();break;case"startDate-asc":t=E(o,"startDate.date");break;case"startDate-desc":t=E(o,"startDate.date").reverse();break;case"endDate-asc":t=E(o,"endDate.date");break;case"endDate-desc":t=E(o,"endDate.date").reverse();break;default:console.log("Type error: "+e+".")}m(t)};return Object(n.useEffect)((function(){s()}),[]),a?l.a.createElement("div",{className:"Home"},l.a.createElement("h5",{className:"p-3 text-center"},"Lista spotka\u0144:"),l.a.createElement(T,{handleSortBy:p}),l.a.createElement(M,{handleFilterDates:function(e){var t=e.currentTarget;e.preventDefault(),e.stopPropagation();var a=t.elements["startDate.date"].value,n=t.elements["endDate.date"].value,l=s();a&&m(l.filter((function(e){return e.startDate.date>=a}))),n&&m(l.filter((function(e){return e.endDate.date<=n})))},handleDisableFilter:function(){m(s())}}),l.a.createElement("div",{className:"pb-2"},l.a.createElement("h5",null,"Lista:"),l.a.createElement(f,{items:o,handleDeleteMeeting:function(e){var t=e.target.value,a=o.filter((function(e){return e.id!==t}));m(a),localStorage.setItem("meetings",JSON.stringify(a))},handleSortBy:p}))):l.a.createElement(I,null)}})))))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[145,1,2]]]);
//# sourceMappingURL=main.3916d9e5.chunk.js.map