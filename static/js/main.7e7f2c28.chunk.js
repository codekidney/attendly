(this.webpackJsonpattendly=this.webpackJsonpattendly||[]).push([[0],{46:function(e,t,a){e.exports=a(65)},63:function(e,t,a){},65:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),l=a(20),i=a.n(l),c=a(16),m=a(13),o=a(69),s=a(70),d=a(43),u=a(73),E=a(75),p=a(67),g=function(e){return r.a.createElement(u.a,{className:"MeetingList"},e.items.map((function(t,a){return r.a.createElement(E.a,{className:"Meeting",key:t.id},r.a.createElement(u.a.Toggle,{as:E.a.Header,eventKey:a},t.startDate.date," | ",t.title),r.a.createElement(u.a.Collapse,{eventKey:a},r.a.createElement(E.a.Body,null,r.a.createElement("div",{className:"Meeting__Description pb-3"},"Opis: ",t.description),r.a.createElement("div",{className:"Meeting__StartDate"},"Rozpocznie si\u0119: ",t.startDate.date," o godz.: ",t.startDate.time),r.a.createElement("div",{className:"Meeting__EndDate pb-3"},"Zako\u0144czy si\u0119: ",t.endDate.date," o godz.: ",t.endDate.time),r.a.createElement(p.a,{variant:"primary",size:"sm",value:t.id,onClick:e.handleDeleteMeeting},"Usu\u0144 wydarzenie"))))})))};g.defaultProps={items:[]};var v=a(19),D=a(72),f=a(68),h=a(42),b=function(){var e=Object(n.useState)(!1),t=Object(v.a)(e,2),a=t[0],l=t[1];return a?r.a.createElement(m.a,{to:"/"}):r.a.createElement(D.a,{onSubmit:function(e){var t=e.currentTarget;e.preventDefault(),e.stopPropagation();var a={id:Math.round((new Date).getTime()+100*Math.random()),title:t.elements.title.value,description:t.elements.description.value,startDate:{date:t.elements["startDate.date"].value,time:t.elements["startDate.time"].value},endDate:{date:t.elements["endDate.date"].value,time:t.elements["endDate.time"].value}};if(null===localStorage.getItem("meetings")){localStorage.setItem("meetings",JSON.stringify([]))}var n=localStorage.getItem("meetings"),r=JSON.parse(n);r.push(a),localStorage.setItem("meetings",JSON.stringify(r)),l(!0)}},r.a.createElement(D.a.Group,{controlId:"title"},r.a.createElement(D.a.Label,null,"Tytu\u0142"),r.a.createElement(D.a.Control,{type:"text",placeholder:"Tytu\u0142"})),r.a.createElement(D.a.Group,{controlId:"description"},r.a.createElement(D.a.Label,null,"Opis"),r.a.createElement(D.a.Control,{as:"textarea",rows:"3",placeholder:"Opis"})),r.a.createElement(D.a.Group,null,r.a.createElement(D.a.Label,null,"Data i godzina od"),r.a.createElement(f.a,null,r.a.createElement(h.a,{id:"startDate.date",type:"date"}),r.a.createElement(h.a,{id:"startDate.time",type:"time"}))),r.a.createElement(D.a.Group,null,r.a.createElement(D.a.Label,null,"Data i godzina do"),r.a.createElement(f.a,null,r.a.createElement(h.a,{id:"endDate.date",type:"date"}),r.a.createElement(h.a,{id:"endDate.time",type:"time"}))),r.a.createElement(p.a,{variant:"primary",type:"submit"},"Dodaj"))},y=function(e){return r.a.createElement(D.a,{onChange:e.handleFilterDates,onSubmit:e.handleFilterDates},r.a.createElement(D.a.Row,null,r.a.createElement(D.a.Group,{as:d.a,sm:"6"},r.a.createElement(f.a,null,r.a.createElement(f.a.Prepend,null,r.a.createElement(f.a.Text,{id:"inputGroupPrepend"},"Od")),r.a.createElement(D.a.Control,{type:"date",name:"startDate.date",defaultValue:"2019-11-25"}))),r.a.createElement(D.a.Group,{as:d.a,sm:"6"},r.a.createElement(f.a,null,r.a.createElement(f.a.Prepend,null,r.a.createElement(f.a.Text,{id:"inputGroupPrepend"},"Do")),r.a.createElement(D.a.Control,{type:"date",name:"endDate.date"}))),r.a.createElement(d.a,{sm:3},r.a.createElement(p.a,{variant:"primary",type:"submit"},"Zastosuj")),r.a.createElement(d.a,{sm:3},r.a.createElement(p.a,{variant:"primary",onClick:e.handleDisableFilter},"Wy\u0142\u0105cz"))))},S=function(){return r.a.createElement("div",{className:"Loading"},"Loading...")},N=a(74),O=a(71),j=(a(63),a(64),a(45));Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(r.a.createElement(c.a,null,r.a.createElement((function(e){return r.a.createElement("header",null,r.a.createElement(o.a,null,r.a.createElement(N.a,{expand:"lg",variant:"light",bg:"light"},r.a.createElement(N.a.Brand,{href:"#"},e.title),r.a.createElement(N.a.Toggle,{"aria-controls":"basic-navbar-nav"}),r.a.createElement(N.a.Collapse,{id:"basic-navbar-nav"},r.a.createElement(O.a,{className:"mr-auto"},r.a.createElement(c.b,{to:"/"},"Home"),r.a.createElement(c.b,{to:"/meeting/add"},"Dodaj Spotkanie"))))))}),{title:"Planowanie spotka\u0144"}),r.a.createElement(o.a,{className:"Content"},r.a.createElement(s.a,null,r.a.createElement(d.a,null,r.a.createElement(m.d,null,r.a.createElement(m.b,{path:"/meeting/add",component:function(){return r.a.createElement("div",null,r.a.createElement(b,null))}}),r.a.createElement(m.b,{component:function(){var e=Object(n.useState)(!1),t=Object(v.a)(e,2),a=t[0],l=t[1],i=Object(n.useState)([]),c=Object(v.a)(i,2),m=c[0],o=c[1],s=function(){if(null===localStorage.getItem("meetings")){var e=[];fetch("https://rkserv.hekko.pl/attendly/get/").then((function(e){return e.json()})).then((function(t){t.forEach((function(t){var a={id:t.id,title:t.title,description:t.description,startDate:{date:t.startDate.date,time:t.startDate.time},endDate:{date:t.endDate.date,time:t.endDate.time}};e.push(a)})),localStorage.setItem("meetings",JSON.stringify(e))}))}var t=localStorage.getItem("meetings");return JSON.parse(t)};return Object(n.useEffect)((function(){o(s()),l(!0)}),[]),a?r.a.createElement("div",{className:"Home"},r.a.createElement("h5",{className:"p-3 text-center"},"Lista spotka\u0144:"),r.a.createElement("div",{className:"pb-2"},r.a.createElement("h5",null,"Sortuj po:"),r.a.createElement(p.a,{variant:"primary",size:"sm",onClick:function(){var e=Object(j.a)(m).sort((function(e,t){var a=e.startDate.date,n=t.startDate.date;return a>n?1:a<n?-1:0}));o(e)}},"Sortowanie po dacie")),r.a.createElement("div",{className:"pb-2"},r.a.createElement("h5",null,"Filtruj po dacie:"),r.a.createElement(y,{handleFilterDates:function(e){var t=e.currentTarget;e.preventDefault(),e.stopPropagation();var a=t.elements["startDate.date"].value,n=t.elements["endDate.date"].value,r=s();a&&o(r.filter((function(e){return e.startDate.date>=a}))),n&&o(r.filter((function(e){return e.endDate.date<=n})))},handleDisableFilter:function(){o(s())}})),r.a.createElement("div",{className:"pb-2"},r.a.createElement("h5",null,"Lista:"),r.a.createElement(g,{items:m,handleDeleteMeeting:function(e){var t=parseInt(e.target.value);o(m.filter((function(e){return e.id!==t}))),localStorage.setItem("meetings",JSON.stringify(m))}})),r.a.createElement("div",{className:"pb-2"},r.a.createElement("h5",null,"Akcje:"),r.a.createElement(p.a,{variant:"primary",href:"/meeting/add"},"Dodaj wydarzenie"))):r.a.createElement(S,null)}})))))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[46,1,2]]]);
//# sourceMappingURL=main.7e7f2c28.chunk.js.map