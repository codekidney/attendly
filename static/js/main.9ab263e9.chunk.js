(this.webpackJsonpattendly=this.webpackJsonpattendly||[]).push([[0],{133:function(e,t,a){e.exports=a(212)},210:function(e,t,a){},212:function(e,t,a){"use strict";a.r(t);var n=a(0),l=a.n(n),r=a(8),c=a.n(r),i=a(44),o=a(30),m=a(216),s=a(217),d=a(129),u=a(221),p=a(223),E=a(214),g=function(e){return e.items?l.a.createElement(u.a,{className:"MeetingList"},e.items.map((function(t,a){return l.a.createElement(p.a,{className:"Meeting",key:t.id},l.a.createElement(u.a.Toggle,{as:p.a.Header,eventKey:a},t.startDate.date," | ",t.title),l.a.createElement(u.a.Collapse,{eventKey:a},l.a.createElement(p.a.Body,null,l.a.createElement("div",{className:"Meeting__Description pb-3"},"Opis: ",t.description),l.a.createElement("div",{className:"Meeting__StartDate"},"Rozpocznie si\u0119: ",t.startDate.date," o godz.: ",t.startDate.time),l.a.createElement("div",{className:"Meeting__EndDate pb-3"},"Zako\u0144czy si\u0119: ",t.endDate.date," o godz.: ",t.endDate.time),l.a.createElement(E.a,{variant:"primary",size:"sm",value:t.id,onClick:e.handleDeleteMeeting},"Usu\u0144 wydarzenie"))))}))):l.a.createElement("div",null)};g.defaultProps={items:[]};var f=a(23),v=a(218),y=a(215),b=a(222),D=a(97),h=(a(190),a(93)),j=a.n(h),O=a(125),z=(a(197),a(94)),S=a.n(z),N=a(126),w=a.n(N),k=(a(206),a(131)),M=a(46),C=function(){var e=Object(n.useState)(!1),t=Object(f.a)(e,2),a=t[0],r=t[1],c=Object(n.useState)(!1),i=Object(f.a)(c,2),m=i[0],s=i[1],d=Object(n.useState)(!1),u=Object(f.a)(d,2),p=u[0],g=u[1],h=Object(n.useState)(!1),z=Object(f.a)(h,2),N=z[0],C=z[1],P=Object(n.useState)(!1),I=Object(f.a)(P,2),L=I[0],H=I[1],x=function(e,t,a){var n=Object(k.a)(e,t,new Date,{locale:a});if(O.DateUtils.isDate(n))return n},G=function(e,t,a){return Object(M.a)(e,t,a)};return a?l.a.createElement(o.a,{to:"/"}):l.a.createElement(v.a,{onSubmit:function(e){var t=e.currentTarget;if(m&&N){var a=m.setHours(N.getHours(),N.getMinutes(),N.getMilliseconds());s(a)}p&&L&&g(p.setHours(L.getHours(),L.getMinutes(),L.getMilliseconds())),(!1===t.checkValidity()||m||p||m<p)&&(e.preventDefault(),e.stopPropagation());var n={id:w.a.generate(),title:t.elements.title.value,description:t.elements.description.value,startDate:{date:Object(M.a)(m,"yyyy-MM-dd","pl"),time:Object(M.a)(m,"HH:mm","pl")},endDate:{date:Object(M.a)(p,"yyyy-MM-dd","pl"),time:Object(M.a)(m,"HH:mm","pl")}};if(null===localStorage.getItem("meetings")){localStorage.setItem("meetings",JSON.stringify([]))}var l=localStorage.getItem("meetings"),c=JSON.parse(l);c.push(n),localStorage.setItem("meetings",JSON.stringify(c)),r(!0)},autoComplete:"off"},l.a.createElement(v.a.Group,{controlId:"title"},l.a.createElement(v.a.Label,null,"Title"),l.a.createElement(v.a.Control,{required:!0,minLength:"5",maxLength:"120",type:"text",placeholder:"Title"})),l.a.createElement(v.a.Group,{controlId:"description"},l.a.createElement(v.a.Label,null,"Description"),l.a.createElement(v.a.Control,{required:!0,minLength:"10",as:"textarea",rows:"3",placeholder:"Description"})),l.a.createElement(v.a.Group,null,l.a.createElement(v.a.Label,null,"Data rozpocz\u0119cia"),l.a.createElement(y.a,null,l.a.createElement(j.a,{formatDate:G,format:"yyyy-MM-dd",placeholder:"Wybierz dat\u0119",onDayChange:function(e,t){var a=t.selected;t.disabled||s(!a&&e)},parseDate:x,dayPickerProps:{locale:"pl",localeUtils:S.a}}),l.a.createElement(D.a,{allowEmpty:!1,showSecond:!1,onChange:function(e){return C(new Date(e))},className:"ml-sm-2 mt-2 mt-sm-0",placeholder:"Wybierz godzin\u0119"}),m&&N?null:l.a.createElement(b.a,{variant:"warning",className:"ml-md-2 mt-2 mt-md-0 p-2"},"Prosz\u0119 poda\u0107 dat\u0119 i godzin\u0119"))),l.a.createElement(v.a.Group,null,l.a.createElement(v.a.Label,null,"Data zako\u0144czenia"),l.a.createElement(y.a,null,l.a.createElement(j.a,{formatDate:G,format:"yyyy-MM-dd",placeholder:"Wybierz dat\u0119",onDayChange:function(e,t,a){var n=t.selected;t.disabled||g(!n&&e)},parseDate:x,dayPickerProps:{locale:"pl",localeUtils:S.a}}),l.a.createElement(D.a,{allowEmpty:!1,showSecond:!1,onChange:function(e){return H(new Date(e))},className:"ml-sm-2 mt-2 mt-sm-0",placeholder:"Wybierz godzin\u0119"}),p&&L?null:l.a.createElement(b.a,{variant:"warning",className:"ml-md-2 mt-2 mt-md-0 p-2"},"Prosz\u0119 poda\u0107 dat\u0119 i godzin\u0119"))),m>=p?l.a.createElement(b.a,{variant:"warning",className:"p-2"},"Data zako\u0144czenia jest przed dat\u0105 rozpocz\u0119cia"):null,l.a.createElement(E.a,{variant:"primary",type:"submit"},"Dodaj"))},P=function(e){return l.a.createElement(v.a,{onChange:e.handleFilterDates,onSubmit:e.handleFilterDates},l.a.createElement(v.a.Row,null,l.a.createElement(v.a.Group,{as:d.a,sm:"6"},l.a.createElement(y.a,null,l.a.createElement(y.a.Prepend,null,l.a.createElement(y.a.Text,{id:"inputGroupPrepend"},"Od")),l.a.createElement(v.a.Control,{type:"date",name:"startDate.date",defaultValue:"2019-11-25"}))),l.a.createElement(v.a.Group,{as:d.a,sm:"6"},l.a.createElement(y.a,null,l.a.createElement(y.a.Prepend,null,l.a.createElement(y.a.Text,{id:"inputGroupPrepend"},"Do")),l.a.createElement(v.a.Control,{type:"date",name:"endDate.date"}))),l.a.createElement(d.a,{sm:3},l.a.createElement(E.a,{variant:"primary",type:"submit"},"Zastosuj")),l.a.createElement(d.a,{sm:3},l.a.createElement(E.a,{variant:"primary",onClick:e.handleDisableFilter},"Wy\u0142\u0105cz"))))},I=function(){return l.a.createElement("div",{className:"Loading"},"Loading...")},L=a(220),H=a(219),x=(a(210),a(211),a(132));Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(l.a.createElement(i.a,null,l.a.createElement((function(e){return l.a.createElement("header",null,l.a.createElement(m.a,null,l.a.createElement(L.a,{expand:"lg",variant:"light",bg:"light"},l.a.createElement(L.a.Brand,{href:"#"},e.title),l.a.createElement(L.a.Toggle,{"aria-controls":"basic-navbar-nav"}),l.a.createElement(L.a.Collapse,{id:"basic-navbar-nav"},l.a.createElement(H.a,{className:"mr-auto"},l.a.createElement(i.b,{to:"".concat("/attendly","/")},"Home"),l.a.createElement(i.b,{to:"".concat("/attendly","/meeting/add")},"Dodaj Spotkanie"))))))}),{title:"Planowanie spotka\u0144"}),l.a.createElement(m.a,{className:"Content"},l.a.createElement(s.a,null,l.a.createElement(d.a,null,l.a.createElement(o.d,null,l.a.createElement(o.b,{path:"/meeting/add",component:function(){return l.a.createElement("div",null,l.a.createElement("h5",{className:"p-3 text-center"},"Dodaj spotkanie:"),l.a.createElement(C,null))}}),l.a.createElement(o.b,{component:function(){var e=Object(n.useState)(!1),t=Object(f.a)(e,2),a=t[0],r=t[1],c=Object(n.useState)([]),i=Object(f.a)(c,2),o=i[0],m=i[1],s=function(){if(null===localStorage.getItem("meetings")){var e=[];fetch("https://rkserv.hekko.pl/attendly/get/").then((function(e){return e.json()})).then((function(t){t.forEach((function(t){var a={id:t.id,title:t.title,description:t.description,startDate:{date:t.startDate.date,time:t.startDate.time},endDate:{date:t.endDate.date,time:t.endDate.time}};e.push(a)})),localStorage.setItem("meetings",JSON.stringify(e))}))}var t=localStorage.getItem("meetings");return JSON.parse(t)};return Object(n.useEffect)((function(){m(s()),r(!0)}),[]),a?l.a.createElement("div",{className:"Home"},l.a.createElement("h5",{className:"p-3 text-center"},"Lista spotka\u0144:"),l.a.createElement("div",{className:"pb-2"},l.a.createElement("h5",null,"Sortuj po:"),l.a.createElement(E.a,{variant:"primary",size:"sm",onClick:function(){var e=Object(x.a)(o).sort((function(e,t){var a=e.startDate.date,n=t.startDate.date;return a>n?1:a<n?-1:0}));m(e)}},"Sortowanie po dacie")),l.a.createElement("div",{className:"pb-2"},l.a.createElement("h5",null,"Filtruj po dacie:"),l.a.createElement(P,{handleFilterDates:function(e){var t=e.currentTarget;e.preventDefault(),e.stopPropagation();var a=t.elements["startDate.date"].value,n=t.elements["endDate.date"].value,l=s();a&&m(l.filter((function(e){return e.startDate.date>=a}))),n&&m(l.filter((function(e){return e.endDate.date<=n})))},handleDisableFilter:function(){m(s())}})),l.a.createElement("div",{className:"pb-2"},l.a.createElement("h5",null,"Lista:"),l.a.createElement(g,{items:o,handleDeleteMeeting:function(e){var t=parseInt(e.target.value),a=o.filter((function(e){return e.id!==t}));m(a),localStorage.setItem("meetings",JSON.stringify(a))}})),l.a.createElement("div",{className:"pb-2"},l.a.createElement("h5",null,"Akcje:"),l.a.createElement(E.a,{variant:"primary",href:"/meeting/add"},"Dodaj wydarzenie"))):l.a.createElement(I,null)}})))))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[133,1,2]]]);
//# sourceMappingURL=main.9ab263e9.chunk.js.map