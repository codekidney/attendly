(this.webpackJsonpattendly=this.webpackJsonpattendly||[]).push([[0],{46:function(e,t,a){e.exports=a(65)},63:function(e,t,a){},65:function(e,t,a){"use strict";a.r(t);var n=a(0),l=a.n(n),r=a(20),i=a.n(r),c=a(16),m=a(13),o=a(69),s=a(70),d=a(43),u=a(73),E=a(75),p=a(67),g=function(e){return 0===e.items.length?l.a.createElement("div",null):l.a.createElement(u.a,{className:"MeetingList"},e.items.map((function(t,a){return l.a.createElement(E.a,{className:"Meeting",key:t.id},l.a.createElement(u.a.Toggle,{as:E.a.Header,eventKey:a},t.startDate.date," | ",t.title),l.a.createElement(u.a.Collapse,{eventKey:a},l.a.createElement(E.a.Body,null,l.a.createElement("div",{className:"Meeting__Description pb-3"},"Opis: ",t.description),l.a.createElement("div",{className:"Meeting__StartDate"},"Rozpocznie si\u0119: ",t.startDate.date," o godz.: ",t.startDate.time),l.a.createElement("div",{className:"Meeting__EndDate pb-3"},"Zako\u0144czy si\u0119: ",t.endDate.date," o godz.: ",t.endDate.time),l.a.createElement(p.a,{variant:"primary",size:"sm",value:t.id,onClick:e.handleDeleteMeeting},"Usu\u0144 wydarzenie"))))})))};g.defaultProps={items:[]};var v=a(19),D=a(72),f=a(68),h=a(42),b=function(){var e=Object(n.useState)(!1),t=Object(v.a)(e,2),a=t[0],r=t[1];return a?l.a.createElement(m.a,{to:"/"}):l.a.createElement(D.a,{onSubmit:function(e){var t=e.currentTarget;e.preventDefault(),e.stopPropagation();var a={id:Math.round((new Date).getTime()+100*Math.random()),title:t.elements.title.value,description:t.elements.description.value,startDate:{date:t.elements["startDate.date"].value,time:t.elements["startDate.time"].value},endDate:{date:t.elements["endDate.date"].value,time:t.elements["endDate.time"].value}};if(null===localStorage.getItem("meetings")){localStorage.setItem("meetings",JSON.stringify([]))}var n=localStorage.getItem("meetings"),l=JSON.parse(n);l.push(a),localStorage.setItem("meetings",JSON.stringify(l)),r(!0)}},l.a.createElement(D.a.Group,{controlId:"title"},l.a.createElement(D.a.Label,null,"Tytu\u0142"),l.a.createElement(D.a.Control,{type:"text",placeholder:"Tytu\u0142"})),l.a.createElement(D.a.Group,{controlId:"description"},l.a.createElement(D.a.Label,null,"Opis"),l.a.createElement(D.a.Control,{as:"textarea",rows:"3",placeholder:"Opis"})),l.a.createElement(D.a.Group,null,l.a.createElement(D.a.Label,null,"Data i godzina od"),l.a.createElement(f.a,null,l.a.createElement(h.a,{id:"startDate.date",type:"date"}),l.a.createElement(h.a,{id:"startDate.time",type:"time"}))),l.a.createElement(D.a.Group,null,l.a.createElement(D.a.Label,null,"Data i godzina do"),l.a.createElement(f.a,null,l.a.createElement(h.a,{id:"endDate.date",type:"date"}),l.a.createElement(h.a,{id:"endDate.time",type:"time"}))),l.a.createElement(p.a,{variant:"primary",type:"submit"},"Dodaj"))},y=function(e){return l.a.createElement(D.a,{onChange:e.handleFilterDates,onSubmit:e.handleFilterDates},l.a.createElement(D.a.Row,null,l.a.createElement(D.a.Group,{as:d.a,sm:"6"},l.a.createElement(f.a,null,l.a.createElement(f.a.Prepend,null,l.a.createElement(f.a.Text,{id:"inputGroupPrepend"},"Od")),l.a.createElement(D.a.Control,{type:"date",name:"startDate.date",defaultValue:"2019-11-25"}))),l.a.createElement(D.a.Group,{as:d.a,sm:"6"},l.a.createElement(f.a,null,l.a.createElement(f.a.Prepend,null,l.a.createElement(f.a.Text,{id:"inputGroupPrepend"},"Do")),l.a.createElement(D.a.Control,{type:"date",name:"endDate.date"}))),l.a.createElement(d.a,{sm:3},l.a.createElement(p.a,{variant:"primary",type:"submit"},"Zastosuj")),l.a.createElement(d.a,{sm:3},l.a.createElement(p.a,{variant:"primary",onClick:e.handleDisableFilter},"Wy\u0142\u0105cz"))))},S=function(){return l.a.createElement("div",{className:"Loading"},"Loading...")},N=a(74),O=a(71),j=(a(63),a(64),a(45));Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(l.a.createElement(c.a,null,l.a.createElement((function(e){return l.a.createElement("header",null,l.a.createElement(o.a,null,l.a.createElement(N.a,{expand:"lg",variant:"light",bg:"light"},l.a.createElement(N.a.Brand,{href:"#"},e.title),l.a.createElement(N.a.Toggle,{"aria-controls":"basic-navbar-nav"}),l.a.createElement(N.a.Collapse,{id:"basic-navbar-nav"},l.a.createElement(O.a,{className:"mr-auto"},l.a.createElement(c.b,{to:"/"},"Home"),l.a.createElement(c.b,{to:"/meeting/add"},"Dodaj Spotkanie"))))))}),{title:"Planowanie spotka\u0144"}),l.a.createElement(o.a,{className:"Content"},l.a.createElement(s.a,null,l.a.createElement(d.a,null,l.a.createElement(m.d,null,l.a.createElement(m.b,{path:"/meeting/add",component:function(){return l.a.createElement("div",null,l.a.createElement(b,null))}}),l.a.createElement(m.b,{component:function(){var e=Object(n.useState)(!1),t=Object(v.a)(e,2),a=t[0],r=t[1],i=Object(n.useState)([]),c=Object(v.a)(i,2),m=c[0],o=c[1],s=function(){if(null===localStorage.getItem("meetings")){var e=[];fetch("https://rkserv.hekko.pl/attendly/get/").then((function(e){return e.json()})).then((function(t){t.forEach((function(t){var a={id:t.id,title:t.title,description:t.description,startDate:{date:t.startDate.date,time:t.startDate.time},endDate:{date:t.endDate.date,time:t.endDate.time}};e.push(a)})),localStorage.setItem("meetings",JSON.stringify(e))}))}var t=localStorage.getItem("meetings");return JSON.parse(t)};return Object(n.useEffect)((function(){o(s()),r(!0)}),[]),a?l.a.createElement("div",{className:"Home"},l.a.createElement("h5",{className:"p-3 text-center"},"Lista spotka\u0144:"),l.a.createElement("div",{className:"pb-2"},l.a.createElement("h5",null,"Sortuj po:"),l.a.createElement(p.a,{variant:"primary",size:"sm",onClick:function(){var e=Object(j.a)(m).sort((function(e,t){var a=e.startDate.date,n=t.startDate.date;return a>n?1:a<n?-1:0}));o(e)}},"Sortowanie po dacie")),l.a.createElement("div",{className:"pb-2"},l.a.createElement("h5",null,"Filtruj po dacie:"),l.a.createElement(y,{handleFilterDates:function(e){var t=e.currentTarget;e.preventDefault(),e.stopPropagation();var a=t.elements["startDate.date"].value,n=t.elements["endDate.date"].value,l=s();a&&o(l.filter((function(e){return e.startDate.date>=a}))),n&&o(l.filter((function(e){return e.endDate.date<=n})))},handleDisableFilter:function(){o(s())}})),l.a.createElement("div",{className:"pb-2"},l.a.createElement("h5",null,"Lista:"),l.a.createElement(g,{items:m,handleDeleteMeeting:function(e){var t=parseInt(e.target.value);console.log("Delete item with id: ".concat(t));var a=m.filter((function(e){return e.id!==t}));o(a),localStorage.setItem("meetings",JSON.stringify(a))}})),l.a.createElement("div",{className:"pb-2"},l.a.createElement("h5",null,"Akcje:"),l.a.createElement(p.a,{variant:"primary",href:"/meeting/add"},"Dodaj wydarzenie"))):l.a.createElement(S,null)}})))))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[46,1,2]]]);
//# sourceMappingURL=main.ce8c7a3b.chunk.js.map